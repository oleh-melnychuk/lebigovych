(function(){var requirejs,require,define,__inflate;(function(e){function n(e,n){var t,i,r,o,s,u,a,c=n&&n.split("/"),l=f.map,p=l&&l["*"]||{};if(e&&"."===e.charAt(0)&&n){for(e=(c=c.slice(0,c.length-1)).concat(e.split("/")),s=0;a=e[s];s++)if("."===a)e.splice(s,1),s-=1;else if(".."===a){if(1===s&&(".."===e[2]||".."===e[0]))return!0;s>0&&(e.splice(s-1,2),s-=2)}e=e.join("/")}if((c||p)&&l)for(s=(t=e.split("/")).length;s>0;s-=1){if(i=t.slice(0,s).join("/"),c)for(u=c.length;u>0;u-=1)if((r=l[c.slice(0,u).join("/")])&&(r=r[i])){o=r;break}if(o=o||p[i]){t.splice(0,s,o),e=t.join("/");break}}return e}function t(n,t){return function(){return a.apply(e,d.call(arguments,0).concat([n,t]))}}function i(e){return function(n){c[e]=n}}function r(n){if(l.hasOwnProperty(n)){var t=l[n];delete l[n],p[n]=!0,u.apply(e,t)}if(!c.hasOwnProperty(n))throw new Error("No "+n);return c[n]}function o(e,t){var i,o,s=e.indexOf("!");return-1!==s?(i=n(e.slice(0,s),t),e=e.slice(s+1),e=(o=r(i))&&o.normalize?o.normalize(e,function(e){return function(t){return n(t,e)}}(t)):n(e,t)):e=n(e,t),{f:i?i+"!"+e:e,n:e,p:o}}function s(e){return function(){return f&&f.config&&f.config[e]||{}}}var u,a,c={},l={},f={},p={},d=[].slice;u=function(n,u,a,f){var d,E,h,g,v,w,m=[];if(f=f||n,"string"==typeof a&&(a=__inflate(n,a)),"function"==typeof a){for(u=!u.length&&a.length?["require","exports","module"]:u,w=0;w<u.length;w++)if("require"===(h=(v=o(u[w],f)).f))m[w]=t(n);else if("exports"===h)m[w]=c[n]={},d=!0;else if("module"===h)E=m[w]={id:n,uri:"",exports:c[n],config:s(n)};else if(c.hasOwnProperty(h)||l.hasOwnProperty(h))m[w]=r(h);else if(v.p)v.p.load(v.n,t(f,!0),i(h),{}),m[w]=c[h];else if(!p[h])throw new Error(n+" missing "+h);g=a.apply(c[n],m),n&&(E&&E.exports!==e&&E.exports!==c[n]?c[n]=E.exports:g===e&&d||(c[n]=g))}else n&&(c[n]=a)},requirejs=require=a=function(n,t,i,s){return"string"==typeof n?r(o(n,t).f):(n.splice||(f=n,t.splice?(n=t,t=i,i=null):n=e),t=t||function(){},s?u(e,n,t,i):setTimeout((function(){u(e,n,t,i)}),15),a)},a.config=function(e){return f=e,a},(define=function(e,n,t){n.splice||(t=n,n=[]),l[e]=[e,n,t]}).amd={jQuery:!0}})(),__inflate=function(name,src){var r;return eval(["r = function(a,b,c){","\n};\n//@ sourceURL="+name+"\n"].join(src)),r},define("lib/api/events",["require","exports","module"],(function(e,n,t){n.api={LOAD_PROGRESS:"loadProgres",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",SHARE:"share",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked"},n.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}})),define("lib/api/getters",["require","exports","module"],(function(e,n,t){t.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}})),define("lib/api/setters",["require","exports","module"],(function(e,n,t){t.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}})),define("lib/api/api",["require","exports","module","lib/api/events","lib/api/getters","lib/api/setters"],(function(e,n,t){function i(e){var n,t=!1;for(n in S)if(S.hasOwnProperty(n)&&S[n]===e){t=!0;break}return t}function r(e){var n,t;for(n=0,t=P.length;n<t&&!1!==e(P[n]);n++);}function o(e){return e.contentWindow?e.contentWindow:e.contentDocument&&"parentWindow"in e.contentDocument?e.contentDocument.parentWindow:null}function s(e){var n,t=[];for(n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function u(e,n,t){t.callbacks[e]=t.callbacks[e]||[],t.callbacks[e].push(n)}function a(e,n){var t=!0;return n.callbacks[e]=[],r((function(n){if((n.callbacks[e]||[]).length)return t=!1,!1})),t}function c(e,n,t){var i,r,s=o(t);if(!s.postMessage)return!1;i=t.getAttribute("src").split("?")[0],r=JSON.stringify({method:e,value:n}),"//"===i.substr(0,2)&&(i=window.location.protocol+i),i=i.replace(/http:\/\/(w|wt).soundcloud.com/,"https://$1.soundcloud.com"),s.postMessage(r,i)}function l(e){var n;return r((function(t){if(t.instance===e)return n=t,!1})),n}function f(e){var n;return r((function(t){if(o(t.element)===e)return n=t,!1})),n}function p(e,n){return function(t){var i=function(e){return!!(e&&e.constructor&&e.call&&e.apply)}(t),r=l(this),o=!i&&n?t:null,s=i&&!n?t:null;return s&&u(e,s,r),c(e,o,r.element),this}}function d(e,n,t){var i,r,o;for(i=0,r=n.length;i<r;i++)e[o=n[i]]=p(o,t)}function E(e,n,t){return e+"?url="+n+"&"+function(e){var n,t,i=[];for(n in e)e.hasOwnProperty(n)&&(t=e[n],i.push(n+"="+("start_track"===n?parseInt(t,10):t?"true":"false")));return i.join("&")}(t)}function h(e,n,t){var r,o,s=e.callbacks[n]||[];for(r=0,o=s.length;r<o;r++)s[r].apply(e.instance,t);(i(n)||n===R.READY)&&(e.callbacks[n]=[])}function g(e){var n,t,i,r,o;try{t=JSON.parse(e.data)}catch(e){}if(t&&(!e.origin||/soundcloud/i.test(e.origin))){if(n=f(e.source),i=t.method,r=t.value,i===R.READY&&(n?(n.isReady=!0,h(n,D),a(D,n)):A.push(e.source)),i===R.PLAY&&!n.playEventFired&&(n.playEventFired=!0),i===R.PLAY_PROGRESS&&!n.playEventFired&&(n.playEventFired=!0,h(n,R.PLAY,[r])),!n||v(e.origin)!==v(n.domain))return!1;o=[],void 0!==r&&o.push(r),h(n,i,o)}}function v(e){return e.replace(L,"")}var w,m,b,y=e("lib/api/events"),S=e("lib/api/getters"),_=e("lib/api/setters"),R=y.api,O=y.bridge,A=[],P=[],D="__LATE_BINDING__",L=/^http(?:s?)/;window.addEventListener?window.addEventListener("message",g,!1):window.attachEvent("onmessage",g),t.exports=b=function(e,n,t){if(function(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}(e)&&(e=document.getElementById(e)),!function(e){return!!e&&1===e.nodeType&&"IFRAME"===e.nodeName.toUpperCase()}(e))throw new Error("SC.Widget function should be given either iframe element or a string specifying id attribute of iframe element.");n&&(t=t||{},e.src=E("http://wt.soundcloud.dev:9200/",n,t));var i,r,s=f(o(e));return s&&s.instance?s.instance:(i=A.indexOf(o(e))>-1,r=new w(e),P.push(new m(r,e,i)),r)},b.Events=R,window.SC=window.SC||{},window.SC.Widget=b,m=function(e,n,t){this.instance=e,this.element=n,this.domain=function(e){var n,t,i,r="";for("//"===e.substr(0,2)&&(e=window.location.protocol+e),n=0,t=(i=e.split("/")).length;n<t&&n<3;n++)r+=i[n],n<2&&(r+="/");return r}(n.getAttribute("src")),this.isReady=!!t,this.callbacks={}},(w=function(){}).prototype={constructor:w,load:function(e,n){if(e){n=n||{};var t=this,i=l(this),r=i.element,o=r.src,s=o.substr(0,o.indexOf("?"));i.isReady=!1,i.playEventFired=!1,r.onload=function(){t.bind(R.READY,(function(){var e,t=i.callbacks;for(e in t)t.hasOwnProperty(e)&&e!==R.READY&&c(O.ADD_LISTENER,e,i.element);n.callback&&n.callback()}))},r.src=E(s,e,n)}},bind:function(e,n){var t=this,i=l(this);return i&&i.element&&(e===R.READY&&i.isReady?setTimeout(n,1):i.isReady?(u(e,n,i),c(O.ADD_LISTENER,e,i.element)):u(D,(function(){t.bind(e,n)}),i)),this},unbind:function(e){var n,t=l(this);t&&t.element&&(n=a(e,t),e!==R.READY&&n&&c(O.REMOVE_LISTENER,e,t.element))}},d(w.prototype,s(S)),d(w.prototype,s(_),!0)})),window.SC=window.SC||{},window.SC.Widget=require("lib/api/api")})();